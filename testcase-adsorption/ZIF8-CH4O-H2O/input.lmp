# LAMMPS input script 

variable T equal 300.0
variable p equal 1.0
variable tauT equal 100.0
variable tauP equal 1000.0

units real
atom_style full
bond_style harmonic
angle_style harmonic
dihedral_style charmm
improper_style harmonic
boundary p p p

read_data zif8.data

# Sets the 3 coefficients to 0.0, 0.0, 0.5 for LJ interactions and
# to 0.0, 0.0, 0.8333 for Coulombic interactions
# and impose the Lorentz-Berthelot mixing rules
pair_style lj/cut/coul/long 8.5
special_bonds amber
pair_modify mix arithmetic
kspace_style ewald 1e-5

molecule methanol methanol.mol
create_atoms 0 random 20 27910 NULL mol methanol 454756 overlap 3.2 maxtry 50

molecule h2o h2o.mol
create_atoms 0 random 20 87910 NULL mol h2o 754733 overlap 3.2 maxtry 200

group zif8 type 1 2 3 4 5 6 7
group methanol type 8 9 10 11
group water type 12 13 14
group mixture union methanol water

include parameters.inc

fix mynvt1 zif8 nvt temp ${T} ${T} ${tauT}
fix mynvt2 mixture rigid/nvt molecule temp ${T} ${T} ${tauT}

dump mydmp all atom 100 mixture-in-zif8.lammpstrj
thermo 100

run 5000

unfix mynvt1
unfix mynvt2
write_data mixture-in-zif8.data

fix mynvt zif8 nvt temp ${T} ${T} ${tauT}
fix mynpt mixture rigid/npt molecule temp ${T} ${T} ${tauT} aniso ${p} ${p} ${tauP}

run 5000
write_data mixture-in-zif8.data